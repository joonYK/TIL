# 서버

* Server의 이름 그대로 **어떠한 서비스를 제공하는 것**.
* 제공하는 서비스의 종류에 따라 'OO 서버'라고 함.
* 웹 서버라면 웹 기능, 메일 서버라면 메일 기능을 제공.
* 특정 서버의 기능은 소프트웨어로 제공.
* AWS의 대표적인 서비스인 EC2는 서버를 임대하는 서비스.
* 하나의 컴퓨터에 **여러 서버의 역할을 부여**하는것이 가능.
    * 소프트웨어를 여러 개 설치.
    * 성능때문에 하나의 PC에 많은 역할을 부여하진 않음.

#### ※ 서버의 의미 구분

* 서버를 설치하는 컴퓨터 자체도 '서버'라고 함.
* '기능으로서븨 서버'와 서버 기능을 설치하는 '물리적인 컴퓨터로서의 서버'를 구분.

<br/>

## 대표적인 서버

|서버|특징|
|---|---|
|웹 서버|웹 사이트의 기능을 하는 서버.<br/>HTML, 이미지 파일, 프로그램등을 저장해두고 웹 브라우저로 접속하면 제공.<br/>대표적인 소프트웨어로 Apache, Nginx, IIS가 있음.|
|메일 서버|메일의 송수신을 담당하는 SMTP, 클라이언트에 메일을 수신하는 POP 서버가 있음.<br/>2가지를 합쳐 보통 메일 서버라고 함.<br/>메일을 내려받지 않고 서버에 둔 채로 읽는 IMAP4도 있음.|
|데이터베이스 서버|검색하기 위한 데이터를 저장하는 서버.|
|파일 서버|파일을 저장하여 공유할 때 사용하는 서버.|
|DNS 서버|IP 주소와 도메인을 변환하는 DNS 기능을 가진 서버.|
|DHCP 서버|IP 주소를 자동으로 분배하는 서버.|
|FTP 서버|FTP 프로토콜로 파일을 송수신하는 서버.<br/>보통 웹 서버와 같이 구축, 파일 업로드 다운로드하는데 사용.|
|프록시 서버|통신 통계 역할을 가진 서버의 통칭.<br/>사내 LAN처럼 인터넷과 격리된 곳에 인터넷으로 서버 접속을 위해 사용.<br/>접속한 대상에게 자신이 접속한 장소를 숨기고 싶은 경우에도 사용.|
|인증 서버|사용자 인증을 하기 위한 서버.|

<br/>

## 서버에 필요한 요소

* 모든 컴퓨터는 서버의 역할이 가능하지만 일반적으로 구분하여 사용.
    * CPU, 메모리, 메인보드, 스토리지, OS가 갖추어진 모든 컴퓨터.
* 서버용으로 사용하기 쉽게 구성된 '서버용 PC'가 따로 있음.
    * 24시간 가동을 전제로 불필요한 기능 생략, 잘 고장하지 않는 부품으로 구성.

<br/>

## 서버용 OS

* 대표적으로 **유닉스 계열**과 **윈도 계열**이 존재.
    * 리눅스와 BSD는 유닉스 계열.
* 서버용 OS는 클라이언트용 OS에 비해 종류가 많음.
    * 리눅스는 오픈 소스라서 더 다양함.
    * 리눅스의 종류로 RedHat, CentOS, Ubuntu, Debian 등이 있음.
    * 리눅스에는 다양한 배포판(커널의 주변 기능을 추가한 패키지) 존재.
* 윈도 계열은 윈도 서버만 있음.
    * 파일 서버의 OS로 많이 사용.
* 웹 서버나 메일 서버 등 인터넷과 함께 사용될 때는 대부분 리눅스 사용.

<br/>

## 인스턴스와 서버

* Amazon EC2에서 서버는 **인스턴스**로 생성.
* 인스턴스는 '실체'라는 의미로 **실제 가동되고 있는 가상화 컴퓨터**를 말함.
* 기능으로서의 서버는 인스턴스라 부르지 않음.
    * 웹 서버의 인스턴스 (O)
    * 웹 인스턴스 (X)

<br/><br/>

# 네트워크

## LAN(Local Area Network)

* 회사나 가정에서 PC나 서버를 네트워크에 연결해서 통신하는 방식.
* 사내 LAN은 인터넷이 연결되지 않은 폐쇄된 네트워크인 인트라넷으로도 사용.

## LAN을 구성하는 기술

|항목|내용|
|---|---|
|라우터|네트워크의 출입구가 되는 부분에 설치하는 기기<br/>데이터의 목적지를 확인하고 목적지에 가까운 다른 네트워크로 전송|
|허브|네트워크의 배선을 분할하는 기기.<br/>같은 네트워크의 다른 단말기에 데이터 전송|
|방화벽|들어오고 나가는 데이터를 확인하고 통신 여부를 조정<br/>부정한 장소에 접근하는것을 막는 등 보안에 사용<br/>방화벽은 역할의 이름으로 실제 기기는 라우터나 서버, 전용 기기 등 다양|
|DMZ|WAN과 LAN의 중간에 설치하는 네트워크<br/>양쪽에서 접근 가능한 서버를 설치|
|DHCP|단말기에 자동으로 IP 주소를 분배하는 방식|
|서브넷|한 네트워크를 작게 분할한 네트워크|

<br/>

## IP 주소

* 인터넷상에서 서버, 네트워크, PC 등 호스트를 구별하는 이름표와 같은 것.
* IP 주소는 서버의 경우 변동되지 않도록 고정이지만, 개인적으로 사용할 경우 보통 유동적으로 할당.
* AWS의 Elastic IP는 변동이 많은 클라우드 서버라도 고정 IP 주소에 접속할 수 있도록 지원.

<br/>

## 사설 IP와 공인 IP (IPv4 기준)

* 인터넷에 사용되는 것은 공인 IP (전 세계에서 중복되지 않는 유일한 주소)
* 사설 IP 주소는 사내 LAN이나 가정 LAN에서 사용.
* 공인 IP 주소의 수는 부족해서 가정이나 회사와 같이 큰 단위로 할당하고 그 안에서 사설 IP로 분배.
    * 사설 IP 분배시 DHCP를 사용.
    * DHCP에 할당된 IP 주소는 유효 기간이 있어서 주기적으로 재할당 됨.

<br/>

## DNS와 도메인

* 숫자 쳬게인 IP 주소는 외우기 어려워서 사람이 알아보기 쉬운 이름 체계를 사용.
* DNS는 이름에 해당하는 서버의 IP 주소를 알려주는 방식.
* 웹 브라우저에서 이름 주소로 요청하면 백그라운드에선 IP 주소로 통신.
* AWS의 Route 53이 DNS 서비스를 제공.

<br/>

## HTML과 웹 브라우저 구조

* 웹 사이트의 콘텐츠는 HTML이라는 형식으로 작성됨.
* HTML은 어느 부분은 제목, 어느 부분은 글씨를 크게 등 태그의 구조를 나타내는 문서.
* HTML에 기술되어 있는 것은 문자와 구조뿐.
* 이미지는 별도의 파일로 저장되고 HTML엔 저장한 장소만 쓰여 있음.

<br/>

## 웨 서버의 구조

* HTML이나 이미지 파일을 저장하고 있는 건 웹 서버.
* 웨 사이트의 URL에 접속하면 웹 서버에서 해당하는 파일을 브라우저로 보냄.
* 웹 서버용 콘텐츠는 HTML, 이미지 파일 외에 동영상 파일, PHP나 Perl로 작성된 프로그램 파일 등으로 구성.

<br/>

## 웹 사이트와 관련된 기술

|항목|내용|
|---|---|
|웹 서버용 소프트웨어|웹 브라우저에서 요청을 받아 파일을 전송하는 소프트웨어.<br/>Apache, Nginx 등이 있음.|
|FTP|서버에 파일을 전송할 때 사용하는 프로토콜.|
|SSH|서버를 원격으로 조작할 떄 사용하는 접속 방식.|
|SSL 증명서|증명서를 작성한 서버를 설치해서 통신을 암호화.<br/>사이트가 변조되지 않음을 증명.<br/>https로 시작하는 url의 서버는 설치되어 있음.|
|리다이렉트|요구된 URL에 대해 다른 페이지로 전송하는 방법.|
|CGI|서버에서 처리하는 프로그램. 대부분 Perl로 작성.|
|PHP|프로그래밍 언어 중 하나. 웹 애플리케이션 개발에 쓰임.|
|자바스크립트|프로그래밍 언어 중 하나. 웹 브라우저에서 처리.|
|스트리밍|데이터를 모두 내려받을 때까지 기다리지 않고 도착한 데이터부터 바로 재생하는 방법.|
|확장자|어떤 형식으로 파일이 저장되어 있는지를 나타냄.|
|index.html|관례적으로 메인 페이지가 되는 HTML 파일.<br/>파일명을 따로 지정하지 않으면 이 페이지가 표시됨.|
|로드 밸런서|서버 여러 대를 두고 트래픽을 분산해서 부하를 줄이는 장비.|
|FW(방화벽)|송수신하는 데이터에 대해 통과 여부 결정.<br/>WAF(Web Application Firewall)는 실제 데이터의 내부까지 확인하고 잘못된 데이터 제거.|
|CDN|콘텐츠를 캐시하는 방식.<br/>만료될 떄까지 캐시를 사용자에게 보내서 서버의 부하를 줄임.|

<br/>

## 웹 사이트에 대한 공격 방법

|항목|내용|
|---|---|
|멀웨어|유해한 의도로 만들어진 악성 소프트웨어나 악성 코드.<br/>바이러스, 트로이 목마, 웜, 봇 등|
|XSS(크로스 사이트 스크립팅)|방문자의 웹 사이트에 악의적인 스크립트를 심는 공격.|
|CSRF|사이트 간 위조 요청으로 일명 이미지 태그 공격.<br/>사용자의 의지와 무관하게 공격자가 변조한 폼의 데이터를 특정 서버에 요청하도록 유도.|
|SQL 인젝션|SQL 문을 전송하여 DB에 부정한 조작을 하는 공격.|
|세션 하이재킹|세션이라고 하는 접속 정보를 도용하는 공격.|
|Dos 공격|서비스에 부하를 발생시켜 서비스를 중지, 방해, 다운시키는 공격.|
|패스워드 크래킹|서버의 패스워드 파일에 접속, 전송되는 패스워드 도용, 패스워드를 알아내는 공격.|
