# Amazon Route 53

* DNS 서비스로 접속할 IP 주소를 EC2나 S3같은 AWS 서비스 엔드포인트와 연결.
* Route 53에서 도메인 이름 등록도 가능.
    * 도메인 이름을 사용할 권리를 구매하여 도메인 네임 레지스트라(도메인 등록 대행 업체)에 신청하는 작업.
    * 한국의 후이즈와 같은 업체의 역할.
* 라우팅을 유연하게 관리.
    * 엔드포인트 한 개에 트래픽이 집중되지 않게 처리.
    * 서비스 장애시 다른 네트워크로 전환.

#### ※ 레지스트라와 레지스트리

* 레지스트리는 도메인 정보의 데이터베이스를 관리하는 기관.
* 레지스트라는 레지스트리에 도메인 정보 등록 대행하는 업체.
* 사용자는 레지스트라에 도메인 정보 신청, 레지스트라는 신청된 도메인 정보 등록.


## DNS에 대한 용어

|항목|내용|
|---|---|
|Resolver|도메인 이름과 IP 주소를 상호 변환하는 것.<br/>Route 53의 핵심 기능은 DNS 서버의 기능.|
|라운드로빈|호스트명 하나에 IP 주소를 여러 개 할당.<br/>IP 반환을 제일 앞쪽 IP부터 연결하는 특성 이용.<br/>접속할 때마다 IP 주소 반 순서를 변경해서 IP 주소를 자의적으로 조정.<br/>접속 대상의 IP 주소가 복수라서 서버 여러 대에 분산 가능.|
|트래픽 흐름|서버의 부하와 가장 효율이 좋은 서버의 IP 주소를 반환하도록 조정(3가지 방법 조합).<br/>1. 지연 시간 기반 라우팅 : 지연이 적은 서버에 전송<br/>2. Geo DNS : 지리적으로 가까운 서버에 전송<br/>3. DNS 페일 오버(장애 극복 기능) : 서버의 가동 여부를 체크하여 미가동 서버에 미할당.<br/>|
|호스트 영역|DNS의 설정 단위로 도메인 전체 혹은 서브도메인을 말함.|
|레코드|도메인 및 서브도메인에 설정하는 항목.<br/>설정 하나당 도메인과 IP 주소를 변환하기 위한 내용 한 개씩 기록.|
|쿼리|DNS에 대한 요청.|

<br/>

# Lambda

* 서버리스 서비스로 이벤트를 자동 실행.
* 데이터나 요청에 대한 실시간 처리나 백엔드 처리를 자동으로 실행.
* 전용 서버를 구축하거나 따로 관리하지 않아도 필요한 이벤트가 자동으로 실행됨.
* 프로그램 실행 시에만 요금 부과.

## Lambda 함수

* 업로드된 프로그램 코드.
    * 프로그램 코드를 Lambda 서비스에 업로드하여 특정 AWS의 서비스를 실행하는 방식.
* 잘 알려진 언어로 작성한 코드를 바탕으로 'Lambda 콘솔'을 사용해서 GUI로 만드는것도 가능.
    * 언어는 자바, C#, 파이썬, 루비, Node.js, Go 등이 있고 템플릿도 존재.
* 함수는 서비스에 저장되며 임의의 작업이 트리거가 되어 호출해 특정 AWS 리소스에서 작업 수행.
    * S3 버킷에 이미지 저장 -> 썸네일 행성 함수 호출 -> 자동으로 썸네일 작성.

## Lambda 용어

|항목|내용|
|---|---|
|이벤트 구동|S3에 파일을 저장하거나 DynamoDB에 데이터를 저장하는 등,<br/>AWS 서비스에 어떤 변화가 생기면 Lambda 프로그램 실행.|
|CGI를 대신하는 Lambda|API Gateway와 조합하여 웹 CGI처럼 사용 가능.|

## 이벤트 소스 목록

* 대표적으로 S3나 SES, API Gateway와 조합하여 사용하는 방식.
* SES(Amazon Simple Email Service)는 메일을 수신하면 함수가 동작하는 형태로 사용.
* API Gateway는 웹 브라우저가 API를 호출할 떄 임의로 작업을 수행하는 형태.

#### ※ Lambda를 호출하는 서비스

* Lambda가 이벤트를 읽는 서비스
    * Kinesis
    * DynamoDB
    * SQS
* Lambda 함수를 동기적(처리가 끝날때까지 기다림)으로 호출하는 서비스
    * DLB
    * ALB
    * Cognito
    * Lex
    * Alexa
    * API Gateway
    * CLoudFront
    * Kinesis Data Firehose
* Lambda 함수를 비동기적으로 호출하는 서비스
    * S3
    * SNS
    * SES
    * CloudFormation
    * CloudWatch Logs
    * CloudWatch Events
    * CodeCommit
    * Config


