# 대규모 서비스를 지탱하는 기술

## 알고리즘 계산량과 상수항

* 상수항은 입력 크기에 의존하지 않고 실행하지 않으면 안 되는 처리의 일종.
    * 함수로부터 값을 반환하기 위한 처리, if문으로 분기시키는 처리 등.
* 로직이 복잡한 구현에서는 상수항도 중요.
* 구현이 복잡하지 않아도 CPU 캐시가 쉬운지 등의 구조적인 특성으로 상수항에서 차이가 날 수도 있음.
    * 정렬 중 퀵 정렬은 CPU 캐시가 쉬워서 가장 빠름.
* 알고리즘 비교시에, 구현을 포함한 비교는 단순하지 않음.
    * 상수항을 어떻게 줄이느냐에 노력이 필요.

### 최적화시 유의사항

* 상수항을 줄이기 위해 처음부터 최적화는 금물.
* 측정을 통한 무엇이 문제인가에 대한 정확한 판단이 필요.
    * 알고리즘을 교체할지, 상수항을 줄일지, 하드웨어를 교환할지 등.

## 단순한 알고리즘

* 때에 따라 단순한 구현을 시도해보는것도 좋음.
* 데이터 건수가 적은 경우에는 최적화의 의미가 없음.
    * 데이터 건수가 적다는 것에 대한 측정은 필요.

## 써드파티의 활용

* 유명 알고리즘은 이미 구현되어 공개된 경우가 많음.
* 사용하되, 어느 정도는 어떻게 구현되어 있는지 알아둬야 잘못된 선택을 방지할 수 있음.
* 오버스펙으로 구현되어 있는 경우, 필요한 부분만 직접 구현해서 사용.

## 전체적인 처리량을 고려

* 압축 해제는 느리고 무겁다는 편견이 있음.
* 처리량 관점에서 압축해두는 것이 빠른 경우가 많음.
* 파일을 압축해두면 CPU에 부담을 주고, I/O를 줄여서 전체적인 처리량을 높임.
    * 보통 CPU는 여유있고 I/O는 바쁜 경우가 많음.