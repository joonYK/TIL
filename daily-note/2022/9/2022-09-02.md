# 오늘 배운 내용

## 클린 아키텍처 - 31장 웹은 세부사항이다

웹은 사용자와 상호작용하기 위한 여러 GUI의 종류 중 하나일 뿐이다. 그래서 웹은 세부사항이며, 핵심 업무 로직과 분리시켜야 한다.

웹과 애플리케이션 사이에는 무수히 많은 작은 상호작용을 한다. 예를 들면, 회원가입을 하는 경우 AJAX 통신을 통해서 아이디 중복 체크, 휴대폰 인증, 입력값 유효성 검증 등의 많은 상호작용을 하게 된다. 그래서 브라우저 상의 UI와 애플리케이션 사이에 분리가 쉽지 않을수 있다.

하지만 애플리케이션과 UI 사이에는 애플리케이션에 대한 업무 로직을 정의한 유스케이스가 존재한다. 유스케이스를 경계로두고 핵심 업무 로직과 UI를 분리해서, UI로부터 들어오는 입력 데이터를 이용해 핵심 업무 로직을 실행시키고 UI에 필요한 결과 데이터를 생성해서 반환한다.

이 방식을 이용해 유스케이스는 UI로부터 핵심 업무 로직을 보호하고 입력 데이터와 출력 데이터를 통해서 UI 계층과 상호작용하게 된다.

### 결론

웹도 하나의 UI일 뿐이며, 웹 이전에도 다양한 UI가 존재했다. 핵심 업무 로직이 UI에 종속되어서 UI가 바뀔때마다 수정되어야하는 불상사가 발생해서는 안 된다. 핵심 업무 로직과 UI를 분리하자.

<br/>

## 클린 아키텍처 - 32장 프레임워크는 세부사항이다.

프레임워크는 개발시에 생산성을 높여주고 프로젝트 개발에 필요한 많은 도구들을 제공한다. 하지만 프레임워크는 기술일 뿐이다. 프레임워크가 핵심 업무 규칙 안으로 파고들도록 내버려두면, 그 애플리케이션은 프레임워크와 평생을 함께해야한다. 

프레임워크 제작자는 좋은 마음으로 커뮤니티에 만들어서 오픈했을 것이다. 하지만 제작자는 나의 문제를 해결하기 위해 프레임워크를 만든것이 아니라 본인이나 본인의 친구 또는 보편적인 어떤 문제를 해결하기위해 만들었을 것이다.

그래서 프레임워크는 나에게 필요한 방향으로 발전할 수 있지만, 정반대의 방향으로 발전하면서 필요했던 기능이 사라지거나 사용법이 완전히 바뀌면서 애플리케이션이 핵심 업무 로직에 집중하지 못하고 프레임워크와의 결합에 따른 문제를 해결하는데만 집중하도록 만들 수도 있다.

그리고 현재 더 좋은 프레임워크가 나올 가능성도 배제할 수 없다. 특정 프레임워크와 결합되는순간 다른 프레임워크를 쳐다보는 것조차 힘들 것이다.

### 해결책

핵심 업무 로직은 절대 프레임워크를 알아서는 안 된다. 만약 프레임워크에서 핵심 업무 객체에 자신의 특정 클래스를 상속하도록 원한다면 프록시 객체를 만들어서 상속시키고 핵심 업무 객체의 플러그인으로서 위치시켜야 한다.

spring을 사용중이라면 업무 객체에 의존성 주입을 위해서 @Autowired 어노테이션을 사용하면 안 된다. 대신 의존성을 주입하기위한 특정 객체를 따로 만들어서 여기서 각각 의존성을 주입받고 이 객체가 직접 의존성을 연결시켜주는것이 낫다.

절대로 핵심 업무 객체에서는 프레임워크의 존재를 알아서는 안 된다.

<br/>

# 회고

## 아쉬운 점

공부를 하면서 한 번씩 유튜브를 보거나 웹서핑을 했다. 그래서 공부에 자꾸 흐름이 끊기게 되었고 다시 공부에 집중을 하기위해서는 집중하기까지의 시간이 또 필요하게 되었는데, 꼭 이 부분에 대해서 고쳐야 시간대비 효율적인 공부를 할 수 있을것 같다.

일단 아래의 원칙들을 지켜보도록 하자.

* 브라우저 즐겨찾기에서 관심이 분산될 만한 것들(유튜브)를 제거한다.
* 뽀모도로 공부법을 시도해보자.
    * 휴식 시간 외에는 공부에만 집중하도록 한다.
* 시작이 반이라고, 자리에 앉는 것과 동시에 공부를 시작해보자.