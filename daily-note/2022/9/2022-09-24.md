# 대규모 서비스를 지탱하는 기술

## 용도특화형 인덱싱

대규모 데이터를 다룰 때, 전문 검색이나 유사문서계열 탐색, 데이터마이닝 등은 모든 데이터를 스캔하면서 처리해야 한다. 이럴 경우 RDB로는 한계가 존재한다.

RDBMS는 데이터 정렬이나, 통계처리, JOIN 등 범용적인 용도로 다양한 목적으로 사용할 수 있다. 그러나 특정한 목적만으로 사용할 수 있도록 튜닝한 데이터 구조를 사용하면 훨씬 빠르게 사용가능한데, 그것이 용도특화형 인덱싱이다. 

자연어처리와 같은 것들을 미리 해서 인덱스를 만들어두면 RDBMS로 모든 데이터를 전부 찾아보지 않고 빠르게 검색할 수 있다.

### 별도의 인덱스 서버 구성

별도의 인덱스 서버를 구축해서 배채 처리를 통해 주기적으로 데이터를 추출해서 인덱스 서버로 넘긴다. 그리고 인덱스 서버는 웹 API를 제공해서 다른 웹 애플리케이션 서버에서 접근할 수 있도록 한다.

#### 애플리케이션 서버에 구성하지 않는 이유

애플리케이션 서버에는 보통 충분한 메모리를 탑재해놓지 않아서 별도의 인덱스 서버를 구성한다. 그리고 웹 애플리케이션은 분산을 통해 스케일 아웃/인이 되는데 어느 서버에 인덱스를 구성해야할지 정하기 힘들고, 모든 서버에 구성하는것도 애매하다.

## 이론과 실전 양쪽과의 싸움

대규모 웹 애플리케이션을 개발, 운영하려고 하면 이론과 실전 사이에서 균형을 맞춰가야 한다.

### 실전의 예

* 테이블 단위로 분산을 고려해서 JOIN을 사용하지 않고 IN 검색을 사용.

### 이론의 예

* 트리 자료구조가 선형 탐색보다 효율적.
* 디스크 I/O느림 점을 OS 캐시로 보완.