# 컴퓨터 구조

## 프로시저

### 더 많은 레지스터 사용

* 컴파일러가 프로시저 번역 시 인수 레지스터 4개, 결과값 레지스터 2개로는 부족할 수가 있음.
* 동시에 프로시저 호출이 완료되고 난 후에 모든 레지스터는 프로시저 호출 전의 상태로 되돌아가야 함.
* 기존의 레지스터 값들을 메모리에 저장해두어야 함.
    * 레지스터 스필링이 필요한 상황의 한 예.
    * 레지스터 스필링 : 자주 사용하지 않는 것들을 메모리에 저장, 자주 사용하는 것들은 레지스터에 저장하는 것.

### 스택

* 레지스터 스필링에 이상적인 자료구조.
* 다음 프로시저가 스필할 레지스터를 저장할 장소나 레지스터의 옛날 값이 저장된 장소를 표시.
    * 최근에 할당된 주소를 가리키는 포인터인 스택 포인터가 필요.

#### 스택 포인터($sp)

* 레지스터 값 하나가 스택에 push와 pop될 때 한 워드씩 조정됨.
* MIPS에서는 29번 레지스터를 스택 포인터로 할당.
* 스택에 푸시할 때 스택 포인터를 감소시키고, 팝할 때 포인터 값을 증가시킴.

