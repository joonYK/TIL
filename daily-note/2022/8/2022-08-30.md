# 오늘 배운 내용 정리

## 1. 클린 아키텍처 - 29장 클린 임베디드 아키텍처

이 장에서는 임베디드로 예를 들면서 아키텍처를 설명하지만, 책 전체를 관통하는 핵심적인 내용을 말하고 있다. 그것은 서로 다른 이유와 속도로 변화하는 것들을 분리하라는 것이다.

임베디드 소프트웨어는 사용자와 직접 상호작용하며 사용자가 필요로 하는 기능을 제공하는데 관심이 있으며, 펌웨어는 하드웨어와 상호작용하는데에 관심이 있다.

### 임베디드 소프트웨어, 펌웨어, 하드웨어

펌웨어는 하드웨어에 종속된 소프트웨어로 하드웨어를 조작할 수 있게 해주는 여러 api를 제공한다. 그리고 임베디드 소프트웨어는 특정 임베디드 장비에 대한 기능을 제공하는 소프트웨어이다. 

여기서 펌웨어는 좀 더 범용적으로 플랫폼에 종속적인 소프트웨어라고 할 수도 있다. 만약 특정 DB 벤더에서만 제공하는 SQL문을 여기저기서 남발한다면 그건 플랫폼에 종속적인 펌웨어에 가까운 소프트웨어라고 할 수 있다.

그래서 임베디드는 계층형으로 소프트웨어 - 펌웨어 - 하드웨어 구조로 되어있다고 할 수 있다.

문제는, 하드웨어는 시간이 지남에 따라 낡고 더 좋은 제품이 끊임없이 나오게 되며 그에 따라 쉽게 변화한다는 것이다. 그럴 떄마다 하드웨어를 교체하게된다면, 그 하드웨어의 펌웨어 맞춰서 소프트웨어 또한 무수히 많은 수정이 필요하게 될 것이다. 또한 테스트를 하기위해선 특정 하드웨어 장치내에서만 테스트가 가능하다는 문제도 있다.

### 추상체를 통해 접근

#### HAL (Hardware Abstraction Layer, 하드웨어 추상화 계층)

소프트웨어와 펌웨어 사이에 HAL을 제공하는 것이다. 그래서 소프트웨어는 이 추상체를 통해서 접근하고, 펌웨어는 이 추상체의 형태를 상속받아 구현함으로써 하드웨어의 세부사항을 감추게 된다면, 하드웨어가 변경되어도 소프트웨어는 변경될 일이 없다.

또한 HAL은 특정 하드웨어에 상관없이 테스트가 가능한 테스트 기능을 제공할 수도 있을 것이다.

그럼 계층은 소프트웨어 - HAL - 펌웨어 - 하드웨어로 이루어진다.

#### OSAL (Operating System Abstraction Layer, 운영체제 추상화 계층)

더 나아가서 임베디드 시스템에 운영체제를 추가한다고 해보자. 그러면 소프트웨어는 운영체제의 구체적인 세부사항으로부터 분리되어야 한다.

따라서 HAL처럼 특정 운영체제에 종속되지 않도록 계층을 분리시켜줄 수 있는 OSAL이 필요하다. 그럼 운영체제가 갑자기 변경되어도 변경될 모든 운영체제들이 추상체의 인터페이스에 맞춰서 api를 제공해준다면 소프트웨어를 변경하지 않아도 된다.

그럼 계층은 또다시 변경되어서 소프트웨어 - OSAL - 운영체제 - HAL - 펌웨어 - 하드웨어로 이루어진다.

<br/>

# 회고

## 클린 아키텍처의 내용을 작성하면서 느낌점

오늘 나는 처음으로 책을 읽은 내용에 대해 최대한 내가 이해한 내용을 담아 정리해 보았다. 물론, 책은 전혀 보지 않았고 이해한 내용을 그대로 적었다. 그러기위해선 책 내용에 대한 이해가 필요했는데, 처음 봤을때는 하나도 이해가 되지 않았고 두번쨰, 세번째, 네번째가 되어서야 비로소 어느정도 이해가 되었다.

내일 다시 한번 더 읽어보면서 내가 이해한것이 맞는지 체크하고 부족한 부분이 있다면 보완해서 내 것으로 만들 생각이다.

클린 아키텍처라는 책 자체가 한 번에 이해하기 어려운 책인데, 나는 이때까지 그 책 내용을 이해하려고 하기 보다는 그저 필사한다는 느낌으로 정리하려고만 했다. 이건 그냥 이해를 통한 공부가 아닌 책의 내용을 베껴적는 것밖에 되지 않았다. 앞으로 이 방식을 통해 책을 읽어나가면서 내 것으로 체화하도록 해야겠다.

<br/>

## 첫 회고를 작성하면서 느낌점

첫 회고를 작성하게 되었는데, 문득 내가 내 생각을 글로 적어본적이 얼마나 있었던가라는 생각이 든다. 초등학생떄는 보통 일기를 쓰게하는데, 나는 너무 귀찮고 하기가 싫어서 혼날걸 알면서도 쓰지 않았다.

내 생각을 정리한다는 것은 나 자신을 스스로 알아간다는게 아닐까라는 생각이 든다. 지금 내가 나 자신을 돌아보니 나는 스스로에 대해서 잘 모르는거 같다. 그렇기 때문에 내 생각을 자유롭게 말로 표현하는것에 힘들어했던거 같고 그럼으로써 스스로에 대한 확신이 없으니 자신감이란 것이 많이 부족했던것 같다.

앞으로 이 회고하는 시간을 통해 나 자신을 좀 더 알아가고 나를 좀 더 객관적으로 살펴보면서 무엇이 부족한지를 알아가야겠다.